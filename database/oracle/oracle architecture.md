ORACLE Architecture
---------------

오라클 DBMS 아키텍처는 크게 3가지 구성 요소로 나눌 수 있다.
1. 데이터 파일(저장 공간)
2. 프로세스(오라클 서버 프로세스 + 백그라운드 프로세스)
3. 메모리 영역(PGA, SGA)

여기서 2,3 번을 묶어서 오라클 인스턴스라 한다.

![image](https://user-images.githubusercontent.com/89891704/198865595-cedc401e-c2b6-4019-a6eb-82edcf6799e5.png)

오라클 DBMS는 크게 2가지 방식으로 client 데이터를 처리한다.
1. 전용 서버 방식(dedicated server)
2. 공유 서버 방식(shared server)

전용 서버 방식은 클라이언트 프로세스 당 하나의 오라클 서버 프로세스가 생성되고 처리하는 방식이다. 즉, 클라이언트 프로세스와 서버 프로세스가 1:1 매핑으로 요청과 응답을 하는 방식이다.

반면, 공유 서버 방식은 클라이언트 프로세스의 요청들을 리스너를 통해 디스패처에 위임하고 해당 디스패처는 SGA영역의 작업Queue에 넣어둔다. 
그러면 오라클 인스턴스에서 가지고 있는 서버 프로세스들이 해당 요청들을 처리하는 방식이다. 해당 방식은 자바의 스레드풀 처리 방식과 같다고 보면 된다.   

그렇다면 사용자가 SQL을 DBMS에 전달했을 때 동작 과정은 어떠할까?   
우선 오라클에서 default 방식인 전용 서버 방식으로 설명하겠다.   

1. 클라이언트 요청을 서버 프로세스가 받음
2. 서버 프로세스는 SGA의 shared pool에 해당 쿼리가 파싱된 데이터가 존재하는지 확인
3. 1. 있다면 바로 excution engine으로 파싱된 데이터 조회
   2. 없다면 syntax check, semantic check, optimization 과정을 통해 최적화된 실행 계획을 세우고 shared pool에 저장 후 바이너리 코드 생성 후 excution 실행
4. 결과를 서버 프로세스에서 클라이언트 프로세스로 전달
